#!/bin/bash
set -e
emacs --batch --eval "(progn
                           (require 'package)
                           (add-to-list 'package-archives
                               '(\"marmalade\" . \"http://marmalade-repo.org/packages/\"))
                           (add-to-list 'package-archives
                               '(\"melpa\" . \"http://melpa.milkbox.net/packages/\"))
                           (package-initialize)
                           (package-refresh-contents)
                           (package-install 'yasnippet)
                           (package-install 'mmm-mode)
                           (package-install 'session)
                           (package-install 'keydef)
                           (package-install 'browse-kill-ring)
                           (package-install 'oauth2))"
mkdir -p ~/src/github
cd ~/src/github

if test ! -e twittering-mode/.git; then
    git clone http://github.com/baohaojun/twittering-mode
fi
